<!--
  Generated template for the MapsOfPlacesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title text-center style="margin-left:-11%;">
        <img class="expanded-image" style="height:60px;" src="assets/images/titlePubSpinner.png" />
    </ion-title>
    <ion-buttons left>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
  </ion-buttons> 
  </ion-navbar>

</ion-header>


<ion-content padding>

  <!-- FiLTER -->
    <ion-row>
      <ion-col col-12>
        <ion-item>
          <ion-label color="mail">Mekan Tipi</ion-label>
          <ion-select okText="Seç" cancelText="İptal" [(ngModel)]="placeTypeId" (ngModelChange)="changeInPlaceType()" multiple="false">
            <ion-option value="0">Hepsi</ion-option>
            <ion-option value="1">Kafe</ion-option>
            <ion-option value="2">Bar</ion-option>
            <ion-option value="3">Restorant</ion-option>
            <ion-option value="4">Müze</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
 
<!-- <img style="margin-top:30%;" src="assets/images/mapunderconstruction.png"> -->
<agm-map [zoom]="15" [streetViewControl]="false" [zoomControl]="false" [minZoom]="12" 
         [latitude]="localLat" [longitude]="localLng" (centerChange)="centerChange($event)"> <!-- (dragend)="centerChange($event)"-->
  <agm-marker *ngFor="let item of placesList"  (markerClick)="clickedMarker(infowindow)"
                 [latitude]="item.latitude" [longitude]="item.longitude" [markerClickable]="true"> <!-- [iconUrl]="agmIcon" ilerideee !! -->
    <agm-info-window #infowindow>
      <span style="font-weight: 500;"> Mekan Adı </span> : <br>  {{item.name}} <br>  
      <span style="font-weight: 500;"> Mekan Tipi </span> : <br>  {{item.placeTypeName}} <br>  
      <span style="font-weight: 500;"> Tel No </span> : <br>  {{item.google_phone_number}} <br>  
      <span style="font-weight: 500;"> Popülarite </span> : <br>  {{item.google_rating}} 
                  <ion-icon color="danger" range-right name="star"></ion-icon><br>  
          <button small ion-button color="head" (click)="goPlaceDetail(item.id)"> 
            <span class="capitalize"> Detaylar <ion-icon small name="information-circle-outline"></ion-icon> </span>
            </button>  <br>
      <button small ion-button color="head" (click)="goPlaceLocation(item.latitude,item.longitude,item.name)"> 
        <span class="capitalize"> Mekana Git <ion-icon name="car"></ion-icon> </span>
        </button>  
    </agm-info-window>
  </agm-marker>
</agm-map>
</ion-content>
